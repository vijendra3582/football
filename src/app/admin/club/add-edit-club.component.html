<nz-breadcrumb>
    <nz-breadcrumb-item routerLink="/dashboard">Dashboard</nz-breadcrumb-item>
    <nz-breadcrumb-item routerLink="/club/manage">Club</nz-breadcrumb-item>
    <nz-breadcrumb-item *ngIf="!club._id">Create</nz-breadcrumb-item>
    <nz-breadcrumb-item *ngIf="club._id">Edit</nz-breadcrumb-item>
</nz-breadcrumb>
<div class="buttons">
    <span class="heading-uppper-table">New Club</span>
    <a routerLink="/club/manage">Manage Club</a>
</div>
<div class="d-flex-center d-flex-center-mt4">
    <form nz-form [formGroup]="form">
        <nz-form-item>
            <nz-form-label nzRequired nzFor="name">Name</nz-form-label>
            <nz-form-control>
                <input nz-input id="name" formControlName="name" [(ngModel)]="club.name" />
            </nz-form-control>
            <app-field-error [submitted]="submitted" [server_message]="server_message.name"
                [server_message]="server_message.name" [control]="form.get('name')"></app-field-error>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label nzFor="ownerName">Owner Name</nz-form-label>
            <nz-form-control>
                <input nz-input id="ownerName" formControlName="ownerName" [(ngModel)]="club.ownerName" />
            </nz-form-control>
            <app-field-error [submitted]="submitted" [server_message]="server_message.ownerName"
                [server_message]="server_message.ownerName" [control]="form.get('ownerName')"></app-field-error>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label nzRequired nzFor="email">E-mail</nz-form-label>
            <nz-form-control>
                <input nz-input formControlName="email" id="email" [(ngModel)]="club.email" />
            </nz-form-control>
            <app-field-error [submitted]="submitted" [server_message]="server_message.email"
                [control]="form.get('email')"></app-field-error>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label nzRequired nzFor="phoneNumber">Mobile</nz-form-label>
            <nz-form-control>
                <input formControlName="phoneNumber" id="'phoneNumber'" nz-input [(ngModel)]="club.phoneNumber" />
            </nz-form-control>
            <app-field-error [submitted]="submitted" [server_message]="server_message.phoneNumber"
                [control]="form.get('phoneNumber')"></app-field-error>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label nzFor="secondaryPhoneNumber">Secondary Mobile</nz-form-label>
            <nz-form-control>
                <input formControlName="secondaryPhoneNumber" id="'secondaryPhoneNumber'" nz-input [(ngModel)]="club.secondaryPhoneNumber" />
            </nz-form-control>
            <app-field-error [submitted]="submitted" [server_message]="server_message.secondaryPhoneNumber"
                [control]="form.get('secondaryPhoneNumber')"></app-field-error>
        </nz-form-item>
        <nz-form-item *ngIf="!club._id">
            <nz-form-label nzRequired nzFor="password">Password</nz-form-label>
            <nz-form-control>
                <input nz-input type="password" id="password" formControlName="password"
                    [(ngModel)]="club.password" />
            </nz-form-control>
            <app-field-error [submitted]="submitted" [server_message]="server_message.password"
                [control]="form.get('password')"></app-field-error>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label nzFor="stadiumName">Stadium Name</nz-form-label>
            <nz-form-control>
                <input formControlName="stadiumName" id="'stadiumName'" nz-input [(ngModel)]="club.stadiumName" />
            </nz-form-control>
            <app-field-error [submitted]="submitted" [server_message]="server_message.stadiumName"
                [control]="form.get('stadiumName')"></app-field-error>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label nzRequired nzFor="orgnizationId">Orgnization</nz-form-label>
            <nz-form-control>
                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select a city" formControlName="orgnizationId" [(ngModel)]="club.orgnizationId">
                    <nz-option *ngFor="let option of orgnizations" [nzLabel]="option.name" [nzValue]="option._id">
                    </nz-option>
                </nz-select>
            </nz-form-control>
            <app-field-error [submitted]="submitted" [server_message]="server_message.orgnizationId" [control]="form.get('orgnizationId')"></app-field-error>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label nzFor="state">State</nz-form-label>
            <nz-form-control>
                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select a State" formControlName="state" [(ngModel)]="club.state.id" (ngModelChange)="getCity()" (ngModelChange)="setStateData()">
                    <nz-option *ngFor="let option of states" [nzLabel]="option.name" [nzValue]="option.id">
                    </nz-option>
                </nz-select>
            </nz-form-control>
            <app-field-error [submitted]="submitted" [server_message]="server_message.state" [control]="form.get('state')"></app-field-error>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label nzFor="city">City</nz-form-label>
            <nz-form-control>
                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select a city" formControlName="city" [(ngModel)]="club.city.id" (ngModelChange)="setCityData()">
                    <nz-option *ngFor="let option of cities" [nzLabel]="option.name" [nzValue]="option.id">
                    </nz-option>
                </nz-select>
            </nz-form-control>
            <app-field-error [submitted]="submitted" [server_message]="server_message.city" [control]="form.get('city')"></app-field-error>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label nzFor="address">Address</nz-form-label>
            <nz-form-control>
                <textarea formControlName="address" id="'address'" nz-input [(ngModel)]="club.address"></textarea>
            </nz-form-control>
            <app-field-error [submitted]="submitted" [server_message]="server_message.address"
                [control]="form.get('address')"></app-field-error>
        </nz-form-item>
        <nz-form-item nz-row class="register-area">
            <nz-form-control *ngIf="!club._id">
                <button nz-button nzType="primary" [disabled]="!form.valid" (click)="submitForm()">Create
                    Club</button>
            </nz-form-control>

            <nz-form-control *ngIf="club._id">
                <button nz-button nzType="primary" [disabled]="!form.valid" (click)="submitFormUpdate()">Update
                    Club</button>
            </nz-form-control>
        </nz-form-item>
    </form>
</div>